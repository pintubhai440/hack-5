{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/analyze-exercise-video.ts"],"sourcesContent":["'use server';\n\n/**\n * @fileOverview Analyzes a video to count exercise repetitions.\n *\n * - analyzeExerciseVideo - A function that handles the exercise video analysis process.\n * - AnalyzeExerciseVideoInput - The input type for the analyzeExerciseVideo function.\n * - AnalyzeExerciseVideoOutput - The return type for the analyzeExerciseVideo function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst AnalyzeExerciseVideoInputSchema = z.object({\n  videoDataUri: z\n    .string()\n    .describe(\n      \"A video of a person performing an exercise, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'. Maximum 45 seconds.\"\n    ),\n  exerciseType: z.string().describe('The type of exercise being performed (e.g., push-ups, squats, reps).'),\n});\nexport type AnalyzeExerciseVideoInput = z.infer<typeof AnalyzeExerciseVideoInputSchema>;\n\nconst AnalyzeExerciseVideoOutputSchema = z.object({\n  repetitionCount: z.number().describe('The number of repetitions counted in the video.'),\n  formFeedback: z.string().optional().describe('Optional feedback on the user\\'s form during the exercise.'),\n});\nexport type AnalyzeExerciseVideoOutput = z.infer<typeof AnalyzeExerciseVideoOutputSchema>;\n\nexport async function analyzeExerciseVideo(input: AnalyzeExerciseVideoInput): Promise<AnalyzeExerciseVideoOutput> {\n  return analyzeExerciseVideoFlow(input);\n}\n\nconst analyzeExerciseVideoPrompt = ai.definePrompt({\n  name: 'analyzeExerciseVideoPrompt',\n  input: {schema: AnalyzeExerciseVideoInputSchema},\n  output: {schema: AnalyzeExerciseVideoOutputSchema},\n  prompt: `You are an expert AI fitness trainer specialized in analyzing exercise videos.\n\nYou will be provided with a video of a user performing an exercise and the name of that exercise. Your primary task is to accurately count the total number of completed repetitions for the specified exercise in the video.\n\nAdditionally, if you observe any significant issues with the user's form, provide concise and helpful feedback. If the form is good, you don't need to provide feedback.\n\nVideo: {{media url=videoDataUri}}\nExercise Type: {{{exerciseType}}}\n\nCarefully analyze the video frame by frame to ensure an accurate count. Return the data in the format specified by the output schema.\n`,\n});\n\nconst analyzeExerciseVideoFlow = ai.defineFlow(\n  {\n    name: 'analyzeExerciseVideoFlow',\n    inputSchema: AnalyzeExerciseVideoInputSchema,\n    outputSchema: AnalyzeExerciseVideoOutputSchema,\n    model: 'googleai/gemini-2.5-pro',\n  },\n  async input => {\n    const {output} = await analyzeExerciseVideoPrompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;IA6BsB,uBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/%28app%29/live-session/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect, useTransition } from 'react';\nimport { analyzeExerciseVideo } from '@/ai/flows/analyze-exercise-video';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2, Video, VideoOff, Play, Square, CheckCircle, AlertTriangle, RefreshCw } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\nimport { Label } from '@/components/ui/label';\n\ntype AnalysisResult = {\n  repetitionCount: number;\n  formFeedback?: string;\n};\n\n// Helper function to convert Blob to Base64\nfunction blobToBase64(blob: Blob): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result as string);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n\n\nexport default function LiveSessionPage() {\n  const [isRecording, setIsRecording] = useState(false);\n  const [stream, setStream] = useState<MediaStream | null>(null);\n  const [recordedBlob, setRecordedBlob] = useState<Blob | null>(null);\n  const [videoPreview, setVideoPreview] = useState<string | null>(null);\n  const [exerciseType, setExerciseType] = useState<string>('');\n  const [analysisResult, setAnalysisResult] = useState<AnalysisResult | null>(null);\n  const [isAnalyzing, startAnalysisTransition] = useTransition();\n  \n  const videoRef = useRef<HTMLVideoElement>(null);\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const recordedChunksRef = useRef<Blob[]>([]);\n  const { toast } = useToast();\n\n  const setupStream = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n      }\n    } catch (error) {\n      console.error(\"Error accessing camera:\", error);\n      toast({\n        variant: \"destructive\",\n        title: \"Camera Access Denied\",\n        description: \"Please allow camera access in your browser settings to use this feature.\",\n      });\n    }\n  };\n  \n  useEffect(() => {\n    setupStream();\n    return () => {\n      stream?.getTracks().forEach(track => track.stop());\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleStartRecording = () => {\n    if (stream) {\n      setIsRecording(true);\n      setRecordedBlob(null);\n      setVideoPreview(null);\n      setAnalysisResult(null);\n      recordedChunksRef.current = [];\n      \n      const recorder = new MediaRecorder(stream);\n      mediaRecorderRef.current = recorder;\n      recorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          recordedChunksRef.current.push(event.data);\n        }\n      };\n      recorder.onstop = () => {\n        const blob = new Blob(recordedChunksRef.current, { type: 'video/webm' });\n        setRecordedBlob(blob);\n        const url = URL.createObjectURL(blob);\n        setVideoPreview(url);\n      };\n      recorder.start();\n    }\n  };\n\n  const handleStopRecording = () => {\n    mediaRecorderRef.current?.stop();\n    setIsRecording(false);\n  };\n  \n  const handleReset = () => {\n    setRecordedBlob(null);\n    setVideoPreview(null);\n    setAnalysisResult(null);\n    setupStream();\n  }\n\n  const handleAnalyze = () => {\n    if (!recordedBlob || !exerciseType) {\n      toast({\n        variant: \"destructive\",\n        title: \"Missing Information\",\n        description: \"Please record a video and select an exercise type.\",\n      });\n      return;\n    }\n    \n    startAnalysisTransition(async () => {\n      try {\n        const base64data = await blobToBase64(recordedBlob);\n        const result = await analyzeExerciseVideo({\n          videoDataUri: base64data,\n          exerciseType: exerciseType,\n        });\n        setAnalysisResult(result);\n      } catch (error) {\n        console.error(\"Analysis failed:\", error);\n        toast({\n          variant: \"destructive\",\n          title: \"Analysis Failed\",\n          description: \"There was an error analyzing your video. Please try again.\",\n        });\n      }\n    });\n  };\n  \n\n  return (\n    <div className=\"container mx-auto max-w-3xl\">\n      <Card>\n        <CardHeader>\n          <CardTitle>Live Exercise Session</CardTitle>\n          <CardDescription>Record yourself performing an exercise, and we'll count your reps.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"grid gap-6\">\n          <div className=\"relative aspect-video w-full overflow-hidden rounded-lg border bg-muted\">\n            <video ref={videoRef} autoPlay playsInline muted className=\"h-full w-full object-cover\" />\n            {isRecording && <Badge variant=\"destructive\" className=\"absolute top-2 right-2\">REC</Badge>}\n            {!stream && (\n                <div className=\"absolute inset-0 flex flex-col items-center justify-center gap-2 bg-black/50 text-white\">\n                    <VideoOff className=\"h-10 w-10\" />\n                    <p>Camera not available</p>\n                </div>\n            )}\n          </div>\n          \n          <div className=\"grid gap-2\">\n            <Label htmlFor=\"exercise-type\">Exercise Type</Label>\n            <Select onValueChange={setExerciseType} value={exerciseType} disabled={isRecording || !!videoPreview}>\n              <SelectTrigger id=\"exercise-type\">\n                <SelectValue placeholder=\"Select an exercise\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"Push-ups\">Push-ups</SelectItem>\n                <SelectItem value=\"Squats\">Squats</SelectItem>\n                <SelectItem value=\"Pull-ups\">Pull-ups</SelectItem>\n                <SelectItem value=\"Lunges\">Lunges</SelectItem>\n                <SelectItem value=\"Sit-ups\">Sit-ups</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {videoPreview && (\n            <div className=\"mt-4\">\n              <p className=\"text-sm font-medium mb-2\">Recorded Video Preview:</p>\n              <video src={videoPreview} controls className=\"w-full rounded-lg\"></video>\n            </div>\n          )}\n\n        </CardContent>\n        <CardFooter className=\"flex-wrap gap-2\">\n          {!videoPreview ? (\n            !isRecording ? (\n              <Button onClick={handleStartRecording} disabled={!stream}>\n                <Play className=\"mr-2 h-4 w-4\" />\n                Start Recording\n              </Button>\n            ) : (\n              <Button onClick={handleStopRecording} variant=\"destructive\">\n                <Square className=\"mr-2 h-4 w-4\" />\n                Stop Recording\n              </Button>\n            )\n          ) : (\n            <>\n              <Button onClick={handleAnalyze} disabled={isAnalyzing || !exerciseType}>\n                {isAnalyzing ? (\n                  <><Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Analyzing...</>\n                ) : 'Analyze Video'}\n              </Button>\n              <Button onClick={handleReset} variant=\"outline\">\n                <RefreshCw className=\"mr-2 h-4 w-4\" />\n                Record Again\n              </Button>\n            </>\n          )}\n        </CardFooter>\n      </Card>\n      \n       {analysisResult && (\n        <Card className=\"mt-6\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <CheckCircle className=\"text-green-500\" />\n              Analysis Complete\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4\">\n            <div className=\"flex items-baseline gap-4 rounded-lg bg-muted p-4\">\n              <span className=\"text-sm font-medium text-muted-foreground\">Repetition Count</span>\n              <span className=\"text-4xl font-bold text-primary\">{analysisResult.repetitionCount}</span>\n            </div>\n            {analysisResult.formFeedback && (\n              <div>\n                <h4 className=\"font-semibold mb-2\">Form Feedback</h4>\n                <div className=\"flex items-start gap-4 rounded-lg border bg-card p-4\">\n                   <AlertTriangle className=\"h-5 w-5 text-amber-500 mt-1\" />\n                   <p className=\"text-sm text-muted-foreground\">{analysisResult.formFeedback}</p>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}